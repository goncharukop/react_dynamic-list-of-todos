{"version":3,"sources":["components/Todo/Todo.js","props/TodoProps.js","props/FilterProps.js","components/Filter/Filter.js","components/TodoList/TodoList.jsx","props/TodoListProps.js","api.js","props/CurrentUserProps.js","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["Todo","PropTypes","bool","string","isRequired","number","func","completed","title","userId","changeUserId","type","readOnly","checked","className","ClassNames","onClick","defaultProps","FilterProps","selectValue","filterText","handleChange","Filter","placeholder","name","value","onChange","TodoList","todos","arrayOf","shape","id","map","key","BASE_URL","getUser","fetch","then","response","json","data","CurrentUser","state","user","changeUser","a","props","setState","console","warn","this","prevProps","resetUserId","email","phone","React","PureComponent","App","selectedUserId","event","target","getFiltredTodos","filterBy","all","active","filter","todoTitle","toLowerCase","searchText","includes","catch","err","selectUserId","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9c35b8eb.chunk.js","sourcesContent":["import React from 'react';\nimport ClassNames from 'classnames';\nimport { TodoProps } from '../../props/TodoProps';\n\nexport const Todo = ({ completed, title, userId, changeUserId }) => (\n  <>\n    <label>\n      <input type=\"checkbox\" readOnly checked={completed} />\n      <p>{title}</p>\n    </label>\n\n    <button\n      className={ClassNames('TodoList__user-button', 'button', {\n        'TodoList__user-button--selected': completed,\n      })}\n      type=\"button\"\n      onClick={() => changeUserId(userId)}\n    >\n      User&nbsp;#\n      {userId}\n    </button>\n  </>\n);\n\nTodo.propTypes = TodoProps;\n\nTodo.defaultProps = {\n  userId: 0,\n  completed: false,\n};\n","import PropTypes from 'prop-types';\n\nexport const TodoProps = {\n  completed: PropTypes.bool,\n  title: PropTypes.string.isRequired,\n  userId: PropTypes.number,\n  changeUserId: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport const FilterProps = {\n  selectValue: PropTypes.string.isRequired,\n  filterText: PropTypes.string.isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { FilterProps } from '../../props/FilterProps';\nimport './Filter.scss';\n\nexport const Filter = ({ filterText, handleChange, selectValue }) => (\n  <div className=\"filter\">\n    <input\n      className=\"ui input\"\n      placeholder=\"Search...\"\n      name=\"filterText\"\n      value={filterText}\n      onChange={handleChange}\n    />\n\n    <select\n      className=\"ui selection dropdown\"\n      name=\"selectValue\"\n      value={selectValue}\n      onChange={handleChange}\n    >\n      <option value=\"all\">\n        All\n      </option>\n\n      <option value=\"active\">\n        Active\n      </option>\n\n      <option value=\"completed\">\n        Completed\n      </option>\n    </select>\n  </div>\n);\n\nFilter.propTypes = FilterProps;\n","import React from 'react';\nimport ClassNames from 'classnames';\nimport { Todo } from '../Todo/Todo';\nimport { Filter } from '../Filter/Filter';\nimport { TodoListProps } from '../../props/TodoListProps';\nimport './TodoList.scss';\n\nexport const TodoList = ({\n  todos,\n  filterText,\n  handleChange,\n  selectValue,\n  changeUserId,\n}) => (\n  <div className=\"TodoList\">\n    <h2>Todos:</h2>\n\n    <Filter\n      className=\"TodoList__controllers\"\n      filterText={filterText}\n      handleChange={handleChange}\n      selectValue={selectValue}\n    />\n\n    <div className=\"TodoList__list-container\">\n      <ul className=\"TodoList__list\">\n        {todos.map(({ completed, id, title, userId }) => (\n          <li\n            key={id}\n            className={ClassNames('TodoList__item', {\n              'TodoList__item--checked': completed,\n              'TodoList__item--unchecked': !completed,\n            })}\n          >\n            <Todo\n              completed={completed}\n              title={title}\n              userId={userId}\n              handleChange={handleChange}\n              changeUserId={changeUserId}\n            />\n          </li>\n        ))}\n      </ul>\n    </div>\n  </div>\n);\n\nTodoList.propTypes = TodoListProps;\n","import PropTypes from 'prop-types';\nimport { FilterProps } from './FilterProps';\n\nexport const TodoListProps = {\n  ...FilterProps,\n  todos: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      userId: PropTypes.number,\n      completed: PropTypes.bool,\n      title: PropTypes.string.isRequired,\n    }),\n  ),\n};\n","const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport function getTodos() {\n  return fetch(`${BASE_URL}/todos`)\n    .then(response => response.json())\n    .then(json => json.data)\n    .then(todos => todos.filter(({ id, title }) => id && title));\n}\n\nexport function getUser(id) {\n  return fetch(`${BASE_URL}/users/${id}`)\n    .then(response => response.json())\n    .then(json => json.data);\n}\n","import PropTypes from 'prop-types';\n\nexport const CurrentUserProps = {\n  userId: PropTypes.number.isRequired,\n  resetUserId: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { CurrentUserProps } from '../../props/CurrentUserProps';\nimport { getUser } from '../../api';\nimport './CurrentUser.scss';\n\nexport class CurrentUser extends React.PureComponent {\n  state = {\n    user: {},\n  }\n\n  async componentDidMount() {\n    this.changeUser();\n  }\n\n  async componentDidUpdate(prevProps) {\n    const { userId } = this.props;\n\n    if (prevProps.userId === userId) {\n      return;\n    }\n\n    this.changeUser();\n  }\n\n  changeUser = async() => {\n    const { userId } = this.props;\n\n    try {\n      const user = await getUser(userId);\n\n      this.setState({\n        user,\n      });\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.warn('ERROR: ', error);\n    }\n  }\n\n  render() {\n    const { userId, resetUserId } = this.props;\n    const { user } = this.state;\n    const { name, email, phone } = this.state.user;\n\n    return user\n      ? (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              {'Selected user: '}\n              {userId}\n            </span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">{name}</h3>\n          <p className=\"CurrentUser__email\">{email}</p>\n          <p className=\"CurrentUser__phone\">{phone}</p>\n\n          <button\n            type=\"button\"\n            className=\"CurrentUser__clear button\"\n            onClick={resetUserId}\n          >\n            Clear data\n          </button>\n        </div>\n      )\n      : <p>User not found</p>;\n  }\n}\n\nCurrentUser.propTypes = CurrentUserProps;\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\nimport 'semantic-ui-css/semantic.min.css';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n    filterText: '',\n    selectValue: 'all',\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then((todos) => {\n        this.setState({\n          todos,\n        });\n      })\n      // eslint-disable-next-line no-console\n      .catch(err => console.warn(err));\n  }\n\n  changeUserId = (userId) => {\n    this.setState({\n      selectedUserId: userId,\n    });\n  }\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  resetUserId = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  }\n\n  getFiltredTodos = () => {\n    const { todos, filterText, selectValue } = this.state;\n\n    const filterBy = {\n      all: () => true,\n      active: completed => !completed,\n      completed: completed => completed,\n    };\n\n    return todos\n      .filter(({ title, completed }) => {\n        const todoTitle = title.toLowerCase();\n        const searchText = filterText.toLowerCase();\n\n        return todoTitle.includes(searchText)\n          && filterBy[selectValue](completed);\n      });\n  }\n\n  render() {\n    const { selectedUserId, filterText, selectValue } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={this.getFiltredTodos()}\n            selectUserId={this.selectUserId}\n            filterText={filterText}\n            handleChange={this.handleChange}\n            changeUserId={this.changeUserId}\n            selectValue={selectValue}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                resetUserId={this.resetUserId}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}